!function(E,e,G){"use strict";var r="ht",v=E[r],H=null,j=Math,p=j.PI,D=j.cos,a=j.sin,O=j.abs,x=j.max,X=j.sqrt,f=1e-5,A=v.Default,o=A.def,T=A.startAnim,M=A.createMatrix,J=A.transformVec,N=A.getInternal(),q=N.addMethod,i=N.superCall,k=N.toPointsArray,w=N.createNormals,V=N.toFloatArray,h=N.glMV,U=N.batchShape,t=N.createNodeMatrix,c=N.getFaceInfo,g=N.transformAppend,W=N.drawFaceInfo,y=N.createAnim,_=N.cube(),l=_.is,I=_.vs,S=_.uv,m=N.ui(),b=v.Node,C=v.Shape,u="h",B="v",Q="front",P="back",z="left",L="right",R="top",s="bottom",K="dw.expanded",Y=".expanded",d="dw.angle",$=".angle",n=function(s,y,$){o(r+"."+s,y,$)},Z=function(i,o,s){s?i.push(o.x,o.y):i.push(o.x,o.y,o.z)},F=[1,0,0],Bm=function(M,L,G,w){var u,j,S,h,X=0,B=[];if(w)for(u=w.length;u>X;X+=3)j=w[X],S=w[X+1],h=w[X+2],B.push(new Xr([new Bk([L[3*j],L[3*j+1],L[3*j+2]],F,G?[G[2*j],G[2*j+1],0]:H),new Bk([L[3*S],L[3*S+1],L[3*S+2]],F,G?[G[2*S],G[2*S+1],0]:H),new Bk([L[3*h],L[3*h+1],L[3*h+2]],F,G?[G[2*h],G[2*h+1],0]:H)],M));else for(u=L.length;u>X;X+=3)j=X,S=X+1,h=X+2,B.push(new Xr([new Bk([L[3*j],L[3*j+1],L[3*j+2]],F,G?[G[2*j],G[2*j+1],0]:H),new Bk([L[3*S],L[3*S+1],L[3*S+2]],F,G?[G[2*S],G[2*S+1],0]:H),new Bk([L[3*h],L[3*h+1],L[3*h+2]],F,G?[G[2*h],G[2*h+1],0]:H)],M));return B},xf=[z,Q,L,P,R,s],Cq=xf.concat("csg"),gc=[0,6,12,18,24,30],Sc=function(_,c,P){for(var v=t(_),n=[],U=0;6>U;U++)for(var A=xf[U],$=gc[U],m=P?c.getFaceUv(_,A):H,O=P?c.getFaceUvScale(_,A):H,p=P?c.getFaceUvOffset(_,A):H,R=0;2>R;R++){var G,j,L,Q=l[$+3*R],k=l[$+3*R+1],B=l[$+3*R+2];if(P){if(m){var X=8*U;G=[m[2*Q-X],m[2*Q+1-X],0],j=[m[2*k-X],m[2*k+1-X],0],L=[m[2*B-X],m[2*B+1-X],0]}else G=[S[2*Q],S[2*Q+1],0],j=[S[2*k],S[2*k+1],0],L=[S[2*B],S[2*B+1],0];O&&(G[0]*=O[0],G[1]*=O[1],j[0]*=O[0],j[1]*=O[1],L[0]*=O[0],L[1]*=O[1]),p&&(G[0]+=p[0],G[1]+=p[1],j[0]+=p[0],j[1]+=p[1],L[0]+=p[0],L[1]+=p[1])}n.push(new Xr([new Bk(J([I[3*Q],I[3*Q+1],I[3*Q+2]],v),F,G),new Bk(J([I[3*k],I[3*k+1],I[3*k+2]],v),F,j),new Bk(J([I[3*B],I[3*B+1],I[3*B+2]],v),F,L)],_))}return Ad.$15n(n)},Nf=function(C,h){var k,S=C.data.getAttaches();if(S&&S.each(function(G){G instanceof _e&&G.s("attach.operation")&&(k||(k=[]),k.push(G))}),k){var T;xf.forEach(function(G){var z=Bm(G,C[G].vs,C[G].tuv);T=T?T.concat(z):z}),T=Ad.$15n(T),k.forEach(function(U){var j=U.s("attach.operation");T[j]&&(T=T[j](Sc(U,C.gv,C.csg.tuv)))}),xf.forEach(function(n){n=C[n],n.vs=[],n.tuv&&(n.tuv=[])}),T.$19n().forEach(function(O){var N=O.$10n;if(N instanceof _e){if(N.s("attach.cull"))return;N="csg"}for(var n=C[N],r=n.vs,g=n.tuv,l=O.$9n,q=2;q<l.length;q++)Z(r,l[0].$24n),Z(r,l[q-1].$24n),Z(r,l[q].$24n),g&&(Z(g,l[0].uv,!0),Z(g,l[q-1].uv,!0),Z(g,l[q].uv,!0))})}Cq.forEach(function(l){var L=C[l];L.visible&&L.vs.length?(L.ns=w(L.vs),V(L,"vs"),V(L,"tuv")):delete C[l]}),h&&(U(C,H,h),C.clear())};q(A,{createFrameModel:function(R,N,I,y){R=R==H?.07:R,N=N==H?R:N,I=I==H?R:I,y=y?y:{};var s=y.top,V=y.bottom,a=y.left,S=y.right,p=y.front,C=y.back,A=[],f=[];return p===!0?(A.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),f.push(0,0,0,1,1,1,1,1,1,0,0,0)):p===!1||(A.push(-.5,.5,.5,-.5,-.5,.5,-.5+R,-.5,.5,-.5+R,-.5,.5,-.5+R,.5,.5,-.5,.5,.5,.5-R,.5,.5,.5-R,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-R,.5,.5,-.5+R,.5,.5,-.5+R,.5-N,.5,.5-R,.5-N,.5,.5-R,.5-N,.5,.5-R,.5,.5,-.5+R,.5,.5,-.5+R,-.5+N,.5,-.5+R,-.5,.5,.5-R,-.5,.5,.5-R,-.5,.5,.5-R,-.5+N,.5,-.5+R,-.5+N,.5),f.push(0,0,0,1,R,1,R,1,R,0,0,0,1-R,0,1-R,1,1,1,1,1,1,0,1-R,0,R,0,R,N,1-R,N,1-R,N,1-R,0,R,0,R,1-N,R,1,1-R,1,1-R,1,1-R,1-N,R,1-N)),C===!0?(A.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),f.push(1,0,0,1,1,1,0,1,1,0,0,0)):C===!1||(A.push(-.5,.5,-.5,-.5+R,-.5,-.5,-.5,-.5,-.5,-.5+R,-.5,-.5,-.5,.5,-.5,-.5+R,.5,-.5,.5-R,.5,-.5,.5,-.5,-.5,.5-R,-.5,-.5,.5,-.5,-.5,.5-R,.5,-.5,.5,.5,-.5,-.5+R,.5,-.5,.5-R,.5-N,-.5,-.5+R,.5-N,-.5,.5-R,.5-N,-.5,-.5+R,.5,-.5,.5-R,.5,-.5,-.5+R,-.5+N,-.5,.5-R,-.5,-.5,-.5+R,-.5,-.5,.5-R,-.5,-.5,-.5+R,-.5+N,-.5,.5-R,-.5+N,-.5),f.push(1,0,1-R,1,1,1,1-R,1,1,0,1-R,0,R,0,0,1,R,1,0,1,R,0,0,0,1-R,0,R,N,1-R,N,R,N,1-R,0,R,0,1-R,1-N,R,1,1-R,1,R,1,1-R,1-N,R,1-N)),a===!0?(A.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),f.push(0,0,0,1,1,1,1,1,1,0,0,0)):a===!1||(A.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+I,-.5,-.5,-.5+I,-.5,.5,-.5+I,-.5,.5,-.5,-.5,.5,.5-I,-.5,-.5,.5-I,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-I,-.5,.5,-.5+I,-.5,.5-N,-.5+I,-.5,.5-N,.5-I,-.5,.5-N,.5-I,-.5,.5,.5-I,-.5,.5,-.5+I,-.5,-.5+N,-.5+I,-.5,-.5,-.5+I,-.5,-.5,.5-I,-.5,-.5,.5-I,-.5,-.5+N,.5-I,-.5,-.5+N,-.5+I),f.push(0,0,0,1,I,1,I,1,I,0,0,0,1-I,0,1-I,1,1,1,1,1,1,0,1-I,0,I,0,I,N,1-I,N,1-I,N,1-I,0,I,0,I,1-N,I,1,1-I,1,1-I,1,1-I,1-N,I,1-N)),S===!0?(A.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),f.push(1,0,0,1,1,1,0,1,1,0,0,0)):S===!1||(A.push(.5,.5,-.5,.5,-.5,-.5+I,.5,-.5,-.5,.5,-.5,-.5+I,.5,.5,-.5,.5,.5,-.5+I,.5,.5,.5-I,.5,-.5,.5,.5,-.5,.5-I,.5,-.5,.5,.5,.5,.5-I,.5,.5,.5,.5,.5,-.5+I,.5,.5-N,.5-I,.5,.5-N,-.5+I,.5,.5-N,.5-I,.5,.5,-.5+I,.5,.5,.5-I,.5,-.5+N,-.5+I,.5,-.5,.5-I,.5,-.5,-.5+I,.5,-.5,.5-I,.5,-.5+N,-.5+I,.5,-.5+N,.5-I),f.push(1,0,1-I,1,1,1,1-I,1,1,0,1-I,0,I,0,0,1,I,1,0,1,I,0,0,0,1-I,0,I,N,1-I,N,I,N,1-I,0,I,0,1-I,1-N,I,1,1-I,1,I,1,1-I,1-N,I,1-N)),s===!0?(A.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),f.push(1,1,1,0,0,0,0,0,0,1,1,1)):s===!1||(A.push(.5,.5,.5,.5,.5,-.5,.5-R,.5,-.5,.5-R,.5,-.5,.5-R,.5,.5,.5,.5,.5,-.5+R,.5,.5,-.5+R,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+R,.5,.5,.5-R,.5,.5,.5-R,.5,.5-I,-.5+R,.5,.5-I,-.5+R,.5,.5-I,-.5+R,.5,.5,.5-R,.5,.5,.5-R,.5,-.5+I,.5-R,.5,-.5,-.5+R,.5,-.5,-.5+R,.5,-.5,-.5+R,.5,-.5+I,.5-R,.5,-.5+I),f.push(1,1,1,0,1-R,0,1-R,0,1-R,1,1,1,R,1,R,0,0,0,0,0,0,1,R,1,1-R,1,1-R,1-I,R,1-I,R,1-I,R,1,1-R,1,1-R,I,1-R,0,R,0,R,0,R,I,1-R,I)),V===!0?(A.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),f.push(1,0,0,1,1,1,0,1,1,0,0,0)):V===!1||(A.push(.5,-.5,.5,.5-R,-.5,-.5,.5,-.5,-.5,.5-R,-.5,-.5,.5,-.5,.5,.5-R,-.5,.5,-.5+R,-.5,.5,-.5,-.5,-.5,-.5+R,-.5,-.5,-.5,-.5,-.5,-.5+R,-.5,.5,-.5,-.5,.5,.5-R,-.5,.5,-.5+R,-.5,.5-I,.5-R,-.5,.5-I,-.5+R,-.5,.5-I,.5-R,-.5,.5,-.5+R,-.5,.5,.5-R,-.5,-.5+I,-.5+R,-.5,-.5,.5-R,-.5,-.5,-.5+R,-.5,-.5,.5-R,-.5,-.5+I,-.5+R,-.5,-.5+I),f.push(1,0,1-R,1,1,1,1-R,1,1,0,1-R,0,R,0,0,1,R,1,0,1,R,0,0,0,1-R,0,R,I,1-R,I,R,I,1-R,0,R,0,1-R,1-I,R,1,1-R,1,R,1,1-R,1-I,R,1-I)),{vs:A,uv:f}}}),q(v.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":G,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":p/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),xf.forEach(function(i){var V={};V[i+Y]=!1,V[i+".toggleable"]=!1,V[i+".axis"]=z,V[i+".start"]=0,V[i+".end"]=p/2,V[i+$]=0,q(v.Style,V,!0)});var Ad=function(){this.$4n=[]};Ad.$15n=function(P){var E=new Ad;return E.$4n=P,E},Ad.prototype={clone:function(){var F=new Ad;return F.$4n=this.$4n.map(function(A){return A.clone()}),F},$19n:function(){return this.$4n},union:function(D){var v=new Ko(this.clone().$4n),z=new Ko(D.clone().$4n);return v.$3n(z),z.$3n(v),z.$6n(),z.$3n(v),z.$6n(),v.$7n(z.$2n()),Ad.$15n(v.$2n())},subtract:function(J){var l=new Ko(this.clone().$4n),Y=new Ko(J.clone().$4n);return l.$6n(),l.$3n(Y),Y.$3n(l),Y.$6n(),Y.$3n(l),Y.$6n(),l.$7n(Y.$2n()),l.$6n(),Ad.$15n(l.$2n())},intersect:function(N){var B=new Ko(this.clone().$4n),p=new Ko(N.clone().$4n);return B.$6n(),p.$3n(B),p.$6n(),B.$3n(p),p.$3n(B),B.$7n(p.$2n()),B.$6n(),Ad.$15n(B.$2n())},inverse:function(){var A=this.clone();return A.$4n.map(function($){$.flip()}),A}},Ad.cube=function(h){h=h||{};var U=new Ci(h.center||[0,0,0]),i=h.radius?h.radius.length?h.radius:[h.radius,h.radius,h.radius]:[1,1,1];return Ad.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(A){return new Xr(A[0].map(function(J){var g=new Ci(U.x+i[0]*(2*!!(1&J)-1),U.y+i[1]*(2*!!(2&J)-1),U.z+i[2]*(2*!!(4&J)-1));return new Bk(g,new Ci(A[1]))}))}))},Ad.sphere=function(J){function n(F,t){F*=2*p,t*=p;var L=new Ci(D(F)*a(t),D(t),a(F)*a(t));H.push(new Bk(o.$20n(L.$21n(l)),L))}J=J||{};for(var H,o=new Ci(J.center||[0,0,0]),l=J.radius||1,A=J.slices||16,f=J.stacks||8,F=[],V=0;A>V;V++)for(var S=0;f>S;S++)H=[],n(V/A,S/f),S>0&&n((V+1)/A,S/f),f-1>S&&n((V+1)/A,(S+1)/f),n(V/A,(S+1)/f),F.push(new Xr(H));return Ad.$15n(F)},Ad.cylinder=function(P){function t(X,z,v){var x=2*z*p,t=N.$21n(D(x)).$20n(L.$21n(a(x))),F=c.$20n(E.$21n(X)).$20n(t.$21n(i)),Q=t.$21n(1-O(v)).$20n(l.$21n(v));return new Bk(F,Q)}P=P||{};for(var c=new Ci(P.start||[0,-1,0]),B=new Ci(P.end||[0,1,0]),E=B.$13n(c),i=P.radius||1,q=P.slices||16,l=E.$14n(),m=O(l.y)>.5,N=new Ci(m,!m,0).$12n(l).$14n(),L=N.$12n(l).$14n(),G=new Bk(c,l.$11n()),Q=new Bk(B,l.$14n()),s=[],M=0;q>M;M++){var r=M/q,h=(M+1)/q;s.push(new Xr([G,t(0,r,-1),t(0,h,-1)])),s.push(new Xr([t(0,h,0),t(0,r,0),t(1,r,0),t(1,h,0)])),s.push(new Xr([Q,t(1,h,1),t(1,r,1)]))}return Ad.$15n(s)};var Ci=function(E,B,S){var Q=this;3==arguments.length?(Q.x=E,Q.y=B,Q.z=S):"x"in E?(Q.x=E.x,Q.y=E.y,Q.z=E.z):(Q.x=E[0],Q.y=E[1],Q.z=E[2])};Ci.prototype={clone:function(){return new Ci(this.x,this.y,this.z)},$11n:function(){return new Ci(-this.x,-this.y,-this.z)},$20n:function(m){return new Ci(this.x+m.x,this.y+m.y,this.z+m.z)},$13n:function(C){return new Ci(this.x-C.x,this.y-C.y,this.z-C.z)},$21n:function(w){return new Ci(this.x*w,this.y*w,this.z*w)},$16n:function(G){return new Ci(this.x/G,this.y/G,this.z/G)},$23n:function(l){return this.x*l.x+this.y*l.y+this.z*l.z},lerp:function(z,Y){return this.$20n(z.$13n(this).$21n(Y))},length:function(){return X(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(U){var z=this;return new Ci(z.y*U.z-z.z*U.y,z.z*U.x-z.x*U.z,z.x*U.y-z.y*U.x)}};var Bk=function(L,R,z){var x=this;x.$24n=new Ci(L),x.$22n=new Ci(R),x.uv=z?new Ci(z):null};Bk.prototype={clone:function(){var e=this;return new Bk(e.$24n.clone(),e.$22n.clone(),e.uv?e.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(r,h){var l=this;return new Bk(l.$24n.lerp(r.$24n,h),l.$22n.lerp(r.$22n,h),l.uv?l.uv.lerp(r.uv,h):null)}};var Br=function(j,h){this.$22n=j,this.w=h};Br.$17n=function(E,l,P){var k=l.$13n(E).$12n(P.$13n(E)).$14n();return new Br(k,k.$23n(E))},Br.prototype={clone:function(){return new Br(this.$22n.clone(),this.w)},flip:function(){var z=this;z.$22n=z.$22n.$11n(),z.w=-z.w},$5n:function(w,l,e,q,R){for(var F=this,r=0,G=1,s=2,M=3,c=0,T=[],B=0;B<w.$9n.length;B++){var v=F.$22n.$23n(w.$9n[B].$24n)-F.w,A=-f>v?s:v>f?G:r;c|=A,T.push(A)}switch(c){case r:(F.$22n.$23n(w.$8n.$22n)>0?l:e).push(w);break;case G:q.push(w);break;case s:R.push(w);break;case M:for(var m=[],H=[],B=0;B<w.$9n.length;B++){var Q=(B+1)%w.$9n.length,k=T[B],p=T[Q],X=w.$9n[B],L=w.$9n[Q];if(k!=s&&m.push(X),k!=G&&H.push(k!=s?X.clone():X),(k|p)==M){var v=(F.w-this.$22n.$23n(X.$24n))/F.$22n.$23n(L.$24n.$13n(X.$24n)),o=X.$18n(L,v);m.push(o),H.push(o.clone())}}m.length>=3&&q.push(new Xr(m,w.$10n)),H.length>=3&&R.push(new Xr(H,w.$10n))}}};var Xr=function(_,q){var E=this;E.$9n=_,E.$10n=q,E.$8n=Br.$17n(_[0].$24n,_[1].$24n,_[2].$24n)};Xr.prototype={clone:function(){var G=this.$9n.map(function(d){return d.clone()});return new Xr(G,this.$10n)},flip:function(){this.$9n.reverse().map(function(d){d.flip()}),this.$8n.flip()}};var Ko=function(Y){var p=this;p.$8n=null,p.front=null,p.back=null,p.$4n=[],Y&&p.$7n(Y)};Ko.prototype={clone:function(){var F=this,K=new Ko;return K.$8n=F.$8n&&F.$8n.clone(),K.front=F.front&&F.front.clone(),K.back=F.back&&F.back.clone(),K.$4n=F.$4n.map(function(o){return o.clone()}),K},$6n:function(){for(var T=this,N=0;N<T.$4n.length;N++)T.$4n[N].flip();T.$8n.flip(),T.front&&T.front.$6n(),T.back&&T.back.$6n();var t=T.front;T.front=T.back,T.back=t},$1n:function(m){var P=this;if(!P.$8n)return m.slice();for(var W=[],M=[],K=0;K<m.length;K++)P.$8n.$5n(m[K],W,M,W,M);return P.front&&(W=P.front.$1n(W)),M=P.back?P.back.$1n(M):[],W.concat(M)},$3n:function(x){var B=this;B.$4n=x.$1n(B.$4n),B.front&&B.front.$3n(x),B.back&&B.back.$3n(x)},$2n:function(){var f=this,M=f.$4n.slice();return f.front&&(M=M.concat(f.front.$2n())),f.back&&(M=M.concat(f.back.$2n())),M},$7n:function(S){var H=this;if(S.length){H.$8n||(H.$8n=S[0].$8n.clone());for(var y=[],O=[],a=0;a<S.length;a++)this.$8n.$5n(S[a],H.$4n,H.$4n,y,O);y.length&&(H.front||(H.front=new Ko),this.front.$7n(y)),O.length&&(H.back||(H.back=new Ko),H.back.$7n(O))}}};var ud="symbol",ar=v.Symbol=function(Y,k,s){var u=this;i(ar,u),u.s3(20,20,20),u.s({"all.visible":!1,shape:"rect"}),u.setIcon(Y,k,s)};n("Symbol",b,{setIcon:function(m,e,f){var $,W=this;return ar.superClass.setIcon.call(W,m),m?($={for3d:!0,face:"center",position:44,names:[m]},f&&($.transaprent=!0),e&&($.autorotate=e),W.addStyleIcon(ud,$)):W.removeStyleIcon(ud),W.setWidth(N.getImageWidth(A.getImage(m),W)||20),$}});var _e=v.CSGNode=function(){i(_e,this),this.s({shape:"rect","attach.thickness":1.001})},sh={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};n("CSGNode",b,{_22Q:function(){return Im},onPropertyChanged:function(C){var O=this,M=O.getHost();_e.superClass.onPropertyChanged.call(O,C),sh[C.property]&&(M instanceof br||M instanceof _e)&&M.fp("csgNodeChange",!0,!1)}});var Im=function(g,R){i(Im,this,[g,R])};o(Im,m.Node3dUI,{_80o:function(n,B,G){var I=this;I._shape3d?Im.superClass._80o.call(I,n,B,G):(h(I.gv),Cq.forEach(function(D){W(I,n,B,I[D],G)}))},validate:function(m,R){var E=this,A=E.gv,o=E.data;if(o.s("shape3d"))return Im.superClass.validate.call(E,m,R),E._shape3d=!0,void 0;E._shape3d=!1;var J=t(o,A.getMat(o)),X=m&&m.uv;E.vf2("csg",X);for(var G=0;6>G;G++)for(var V=xf[G],Q=gc[G],n=E.vf2(V,X,R),_=n.mat||J,s=n.vs,Z=n.uv,O=n.tuv,u=0;2>u;u++){var y=l[Q+3*u],Y=l[Q+3*u+1],q=l[Q+3*u+2];if(g(s,_,[I[3*y],I[3*y+1],I[3*y+2]]),g(s,_,[I[3*Y],I[3*Y+1],I[3*Y+2]]),g(s,_,[I[3*q],I[3*q+1],I[3*q+2]]),O)if(Z){var $=8*G;O.push(Z[2*y-$],Z[2*y+1-$],Z[2*Y-$],Z[2*Y+1-$],Z[2*q-$],Z[2*q+1-$])}else O.push(S[2*y],S[2*y+1],S[2*Y],S[2*Y+1],S[2*q],S[2*q+1])}Nf(E,m,R)},vf2:function(g,e,Q){var m,k=this,L=k.gv.getFaceVisible(k.data,g);return m=c(k,g,Q),m.vs=[],m.tuv=L&&(m.texture||e)?[]:H,m.visible=L,m}});var br=v.CSGShape=function(){var f=this;i(br,f),f.s({"shape.background":H,"shape.border.width":8}),f.setTall(240),f.setElevation(120),f.setThickness(14)};n("CSGShape",C,{IRotatable:!1,_22Q:function(){return Dn},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Dn=function(j,X){i(Dn,this,[j,X])};o(Dn,m.Shape3dUI,{_80o:function(t,k,u){var a=this;a.undrawable||(h(a.gv),Cq.forEach(function(H){W(a,t,k,a[H],u)}))},validate:function(M,R){var O=this,m=O.data,h=m.getPoints();if(O.undrawable=h.size()<2)return O.clear(),void 0;var U=m.isClosePath(),L=x(m._thickness/2,f),z=k(h,H,H,U);Cq.forEach(function(L){O.vf(L,M&&M.uv,!0,R)}),U&&(O.left.visible=!1,O.right.visible=!1),O._12O(z,L),O._20Q(z),Nf(O,M,R)}});var rb=v.DoorWindow=function(){var z=this;i(rb,z),z.setElevation(100),z.s3(100,200,14)};n("DoorWindow",_e,{IDoorWindow:!0,toggle:function(U){this.setExpanded(!this.s(K),U)},isExpanded:function(){return this.s(K)},setExpanded:function(I,o){var Q,U=this,V=U.$25n,J=U.getDataModel(),z=U.s(K);if(J&&(Q=J.getHistoryManager()),V&&(V.stop(!0),delete U.$25n),z!==I){Q&&Q.beginInteraction();var H=I?U.s("dw.end"):U.s("dw.start");U.s(K,I),o=y(o),o?(z=U.s(d),o.action=function(L){U.s(d,z+(H-z)*L)},o.finishFunc=function(){Q&&Q.endInteraction()},U.$25n=T(o)):(U.s(d,H),Q&&Q.endInteraction())}},getMat:function(){var b=this,K=b.s("dw.s3"),v=b.s("dw.t3"),k=b.s("dw.flip"),i=b.s(d);if(K||i||v||k){var F=[];if(k&&F.push({r3:[0,p,0]}),K&&F.push({s3:K}),i){K=b.s3();var j=b.s("dw.axis"),G=K[0]/2,y=K[1]/2;K[2]/2,j===z?F.push({t3:[G,0,0]},{r3:[0,-i,0]},{t3:[-G,0,0]}):j===L?F.push({t3:[-G,0,0]},{r3:[0,i,0]},{t3:[G,0,0]}):j===R?F.push({t3:[0,-y,0]},{r3:[-i,0,0]},{t3:[0,y,0]}):j===s?F.push({t3:[0,y,0]},{r3:[i,0,0]},{t3:[0,-y,0]}):j===B?F.push({r3:[0,i,0]}):j===u&&F.push({r3:[i,0,0]})}return v&&F.push({t3:v}),M(F)}return H}});var Sg=v.CSGBox=function(){var g=this;i(Sg,g),g.setElevation(100),g.s3(100,200,100)};n("CSGBox",_e,{ICSGBox:!0,toggleFace:function(N,E){this.setFaceExpanded(N,!this.s(N+Y),E)},isFaceExpanded:function(e){return this.s(e+Y)},setFaceExpanded:function(C,Z,r){var S=this,V=S.$25n,m=S.s(C+Y);if(V&&(V.stop(!0),delete S.$25n),m!==Z){var g=Z?S.s(C+".end"):S.s(C+".start");S.s(C+Y,Z),r=y(r),r?(m=S.s(C+$),r.action=function(W){S.s(C+$,m+(g-m)*W)},S.$25n=T(r)):S.s(C+$,g)}},getFaceMat:function(w){var y=this,t=y.s(w+$);if(!t)return H;var V=y.s(w+".axis"),S=y.s3(),k=S[0]/2,g=S[1]/2,i=S[2]/2,X=[];return w===Q&&(V===z?X.push({t3:[k,0,-i]},{r3:[0,-t,0]},{t3:[-k,0,i]}):V===L?X.push({t3:[-k,0,-i]},{r3:[0,t,0]},{t3:[k,0,i]}):V===R?X.push({t3:[0,-g,-i]},{r3:[-t,0,0]},{t3:[0,g,i]}):V===s?X.push({t3:[0,g,-i]},{r3:[t,0,0]},{t3:[0,-g,i]}):V===B?X.push({t3:[0,0,-i]},{r3:[0,t,0]},{t3:[0,0,i]}):V===u&&X.push({t3:[0,0,-i]},{r3:[t,0,0]},{t3:[0,0,i]})),w===P&&(V===z?X.push({t3:[-k,0,i]},{r3:[0,-t,0]},{t3:[k,0,-i]}):V===L?X.push({t3:[k,0,i]},{r3:[0,t,0]},{t3:[-k,0,-i]}):V===R?X.push({t3:[0,-g,i]},{r3:[t,0,0]},{t3:[0,g,-i]}):V===s?X.push({t3:[0,g,i]},{r3:[-t,0,0]},{t3:[0,-g,-i]}):V===B?X.push({t3:[0,0,i]},{r3:[0,t,0]},{t3:[0,0,-i]}):V===u&&X.push({t3:[0,0,i]},{r3:[t,0,0]},{t3:[0,0,-i]})),w===z&&(V===z?X.push({t3:[k,0,i]},{r3:[0,-t,0]},{t3:[-k,0,-i]}):V===L?X.push({t3:[k,0,-i]},{r3:[0,t,0]},{t3:[-k,0,i]}):V===R?X.push({t3:[k,-g,0]},{r3:[0,0,-t]},{t3:[-k,g,0]}):V===s?X.push({t3:[k,g,0]},{r3:[0,0,t]},{t3:[-k,-g,0]}):V===B?X.push({t3:[k,0,0]},{r3:[0,t,0]},{t3:[-k,0,0]}):V===u&&X.push({t3:[k,0,0]},{r3:[0,0,t]},{t3:[-k,0,0]})),w===L&&(V===z?X.push({t3:[-k,0,-i]},{r3:[0,-t,0]},{t3:[k,0,i]}):V===L?X.push({t3:[-k,0,i]},{r3:[0,t,0]},{t3:[k,0,-i]}):V===R?X.push({t3:[-k,-g,0]},{r3:[0,0,t]},{t3:[k,g,0]}):V===s?X.push({t3:[-k,g,0]},{r3:[0,0,-t]},{t3:[k,-g,0]}):V===B?X.push({t3:[-k,0,0]},{r3:[0,t,0]},{t3:[k,0,0]}):V===u&&X.push({t3:[-k,0,0]},{r3:[0,0,t]},{t3:[k,0,0]})),w===R&&(V===z?X.push({t3:[k,-g,0]},{r3:[0,0,t]},{t3:[-k,g,0]}):V===L?X.push({t3:[-k,-g,0]},{r3:[0,0,-t]},{t3:[k,g,0]}):V===R?X.push({t3:[0,-g,i]},{r3:[-t,0,0]},{t3:[0,g,-i]}):V===s?X.push({t3:[0,-g,-i]},{r3:[t,0,0]},{t3:[0,g,i]}):V===B?X.push({t3:[0,-g,0]},{r3:[0,0,t]},{t3:[0,g,0]}):V===u&&X.push({t3:[0,-g,0]},{r3:[t,0,0]},{t3:[0,g,0]})),w===s&&(V===z?X.push({t3:[k,g,0]},{r3:[0,0,-t]},{t3:[-k,-g,0]}):V===L?X.push({t3:[-k,g,0]},{r3:[0,0,t]},{t3:[k,-g,0]}):V===R?X.push({t3:[0,g,-i]},{r3:[-t,0,0]},{t3:[0,-g,i]}):V===s?X.push({t3:[0,g,i]},{r3:[t,0,0]},{t3:[0,-g,-i]}):V===B?X.push({t3:[0,g,0]},{r3:[0,0,t]},{t3:[0,-g,0]}):V===u&&X.push({t3:[0,g,0]},{r3:[t,0,0]},{t3:[0,-g,0]})),M(X)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);